//Status code check
pm.test("Status is 200", () => {
    console.log("Status Code:", pm.response.code);
    pm.response.to.have.status(200);
});

// Get expected page number from environment
let expectedPage = parseInt(pm.environment.get("invalid_page_number"));
console.log("Expected Page (from environment):", expectedPage);

// Parse JSON response
let response = pm.response.json();
console.log("Full Response Body:", response);

//Page number matches
pm.test("Page number should match the one set in pre-script", () => {
    console.log("Page in response:", response.page);
    pm.expect(response.page).to.eql(expectedPage);
});

//Data is empty
pm.test("Data should be empty", () => {
    console.log("Data array length:", response.data.length);
    pm.expect(response.data).to.be.an("array").that.is.empty;
});
